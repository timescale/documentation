---
title: hypertable_columnstore_stats()
description: get columnstore statistics related to the columnstore
license: community
type: procedure
topics: [hypercore, columnstore]
keywords: [hypercore, columnstore, hypertables, information]
tags: [statistics, size]
products: [cloud, mst, self_hosted]
---

import { COLUMNSTORE, HYPERTABLE, CHUNK } from '/snippets/vars.mdx';

<Icon icon="circle-play" iconType="duotone" /> Since 2.18.0

<Tag>Community</Tag>

Retrieve compression statistics for the {COLUMNSTORE}.

For more information about using {HYPERTABLE}s, including {CHUNK} size partitioning,
see [{HYPERTABLE}s][hypertable-docs].

## Samples

To retrieve compression statistics:

- **Show the compression status of the `conditions` {HYPERTABLE}**:

   ```sql
   SELECT * FROM hypertable_columnstore_stats('conditions');
   ```
   Returns:
   ```sql
   -[ RECORD 1 ]------------------+------
   total_chunks                   | 4
   number_compressed_chunks       | 1
   before_compression_table_bytes | 8192
   before_compression_index_bytes | 32768
   before_compression_toast_bytes | 0
   before_compression_total_bytes | 40960
   after_compression_table_bytes  | 8192
   after_compression_index_bytes  | 32768
   after_compression_toast_bytes  | 8192
   after_compression_total_bytes  | 49152
   node_name                      |
   ```

- **Use `pg_size_pretty` get the output in a more human friendly format**:

   ```sql
   SELECT pg_size_pretty(after_compression_total_bytes) as total
     FROM hypertable_columnstore_stats('conditions');
   ```
   Returns:
   ```sql
   -[ RECORD 1 ]--+------
   total | 48 kB
   ```

## Arguments

The syntax is:

```sql
SELECT * FROM hypertable_columnstore_stats(
    hypertable = '<hypertable_name>'
);
```

|Name|Type|Description|
|-|-|-|
|`hypertable`|REGCLASS|{HYPERTABLE} to show statistics for|

## Returns

|Column|Type|Description|
|-|-|-|
|`total_chunks`|BIGINT|The number of {CHUNK}s used by the {HYPERTABLE}. Returns `NULL` if `compression_status` == `Uncompressed`. |
|`number_compressed_chunks`|INTEGER|The number of {CHUNK}s used by the {HYPERTABLE} that are currently compressed. Returns `NULL` if `compression_status` == `Uncompressed`. |
|`before_compression_table_bytes`|BIGINT|Size of the heap before compression. Returns `NULL` if `compression_status` == `Uncompressed`. |
|`before_compression_index_bytes`|BIGINT|Size of all the indexes before compression. Returns `NULL` if `compression_status` == `Uncompressed`. |
|`before_compression_toast_bytes`|BIGINT|Size the TOAST table before compression. Returns `NULL` if `compression_status` == `Uncompressed`. |
|`before_compression_total_bytes`|BIGINT|Size of the entire table (`before_compression_table_bytes` + `before_compression_index_bytes` + `before_compression_toast_bytes`) before compression. Returns `NULL` if `compression_status` == `Uncompressed`.|
|`after_compression_table_bytes`|BIGINT|Size of the heap after compression. Returns `NULL` if `compression_status` == `Uncompressed`. |
|`after_compression_index_bytes`|BIGINT|Size of all the indexes after compression. Returns `NULL` if `compression_status` == `Uncompressed`. |
|`after_compression_toast_bytes`|BIGINT|Size the TOAST table after compression. Returns `NULL` if `compression_status` == `Uncompressed`. |
|`after_compression_total_bytes`|BIGINT|Size of the entire table (`after_compression_table_bytes` + `after_compression_index_bytes `+ `after_compression_toast_bytes`) after compression. Returns `NULL` if `compression_status` == `Uncompressed`. |
|`node_name`|TEXT|nodes on which the {HYPERTABLE} is located, applicable only to distributed {HYPERTABLE}s. Returns `NULL` if `compression_status` == `Uncompressed`. |

[hypertable-docs]: /manage-data/timescaledb/data-management/hypertables
