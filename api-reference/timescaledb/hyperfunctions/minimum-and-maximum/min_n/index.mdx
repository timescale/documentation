---
title: Minimum values overview
description: Get the N smallest values from a column
sidebarTitle: Overview
---

import TwoStepAggregation from '/snippets/api-reference/hyperfunctions/two-step-aggregation.mdx';

Get the N smallest values from a column.

The `min_n()` functions give the same results as the regular SQL query `SELECT
... ORDER BY ... LIMIT n`. But unlike the SQL query, they can be composed and
combined like other aggregate hyperfunctions.

To get the N largest values, use [`max_n()`][max_n]. To get the N smallest
values with accompanying data, use [`min_n_by()`][min_n_by].

This function group uses the [two-step aggregation][two-step-aggregation]
pattern. In addition to the usual aggregate function [`min_n`][min_n], it also
includes accessors and rollup functions.

## Two-step aggregation

<TwoStepAggregation />

## Samples

This example assumes that you have a table of stock trades in this format:

```sql
CREATE TABLE stock_sales(
    ts TIMESTAMPTZ,
    symbol TEXT,
    price FLOAT,
    volume INT
);
```

You can query for the 10 smallest transactions each day:

```sql
WITH t as (
    SELECT
        time_bucket('1 day'::interval, ts) as day,
        min_n(price * volume, 10) AS daily_min
    FROM stock_sales
    GROUP BY time_bucket('1 day'::interval, ts)
)
SELECT
    day, into_array(daily_min)
FROM t;
```

## Available functions

### Aggregate
- [`min_n()`][min_n]: construct an aggregate that keeps track of the smallest values passed through it

### Accessors
- [`into_values()`][into_values]: return the N lowest values seen by the aggregate
- [`into_array()`][into_array]: return the N lowest values seen by the aggregate as an array

### Rollup
- [`rollup()`][rollup]: combine multiple MinN aggregates

[two-step-aggregation]: #two-step-aggregation
[min_n]: /api-reference/timescaledb/hyperfunctions/minimum-and-maximum/min_n/min_n
[max_n]: /api-reference/timescaledb/hyperfunctions/minimum-and-maximum/max_n/max_n
[min_n_by]: /api-reference/timescaledb/hyperfunctions/minimum-and-maximum/min_n_by/min_n_by
[into_values]: /api-reference/timescaledb/hyperfunctions/minimum-and-maximum/min_n/into_values
[into_array]: /api-reference/timescaledb/hyperfunctions/minimum-and-maximum/min_n/into_array
[rollup]: /api-reference/timescaledb/hyperfunctions/minimum-and-maximum/min_n/rollup
