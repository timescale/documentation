---
title: timescaledb_pre_restore()
description: Prepare the database for a restore operation
keywords: [administration, restore, backup]
tags: [backup, restore]
products: [cloud, mst, self_hosted]
license: apache
type: function
---

import { TIMESCALE_DB } from '/snippets/vars.mdx';

Perform the required operations so that you can restore the database using `pg_restore`. Specifically, this sets the `timescaledb.restoring` GUC to `on` and stops any background workers which could have been performing tasks.

The background workers are stopped until the [`timescaledb_post_restore()`][timescaledb_post_restore] function is run, after the restore operation is complete.

For more information, see [Migrate using pg_dump and pg_restore][pg-dump-restore].

<Warning>
After using `timescaledb_pre_restore()`, you need to run [`timescaledb_post_restore()`][timescaledb_post_restore] before you can use the database normally.
</Warning>

## Samples

Prepare to restore the database:

```sql
SELECT timescaledb_pre_restore();
```

## Returns

|Column|Type|Description|
|-|-|-|
|success|BOOLEAN|TRUE if the operation completed successfully|

[timescaledb_post_restore]: /api-reference/timescaledb/administration/timescaledb_post_restore
[pg-dump-restore]: /migrate/postgres/pg-dump-and-restore
