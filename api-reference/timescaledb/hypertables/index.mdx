---
title: Hypertables and chunks
sidebarTitle: Overview
description: SQL commands and functions for creating and managing hypertables and chunks
topics: [hypertables, chunks]
license: apache
products: [cloud, mst, self_hosted]
---

import HypertableIntro from '/snippets/manage-data/hypertable-intro.mdx';
import CreateHypertableColumnstorePolicyNote from '/snippets/manage-data/create-hypertable-columnstore-policy-note.mdx';
import OldApiCreateHypertable from '/snippets/manage-data/old-api-create-hypertable.mdx';
import { HYPERTABLE, CHUNK, TIMESCALE_DB, HYPERCORE, COLUMNSTORE } from '/snippets/vars.mdx';

<HypertableIntro />

For more information about using {HYPERTABLE}s, including {CHUNK} size partitioning, see the [hypertable
documentation][hypertable-docs].

## Create a hypertable

To create a {HYPERTABLE} for your time-series data, use [`CREATE TABLE`][create_table]. For efficient queries on data in
the {COLUMNSTORE}, remember to `segmentby` the column you will use most often to filter your data. For example:

```sql
CREATE TABLE conditions (
  time        TIMESTAMPTZ       NOT NULL,
  location    TEXT              NOT NULL,
  device      TEXT              NOT NULL,
  temperature DOUBLE PRECISION  NULL,
  humidity    DOUBLE PRECISION  NULL
) WITH (
  tsdb.hypertable,
  tsdb.segmentby = 'device',
  tsdb.orderby = 'time DESC'
);
```

<CreateHypertableColumnstorePolicyNote />

<Note>
<OldApiCreateHypertable />
</Note>

## Samples

### Create a hypertable

Create a {HYPERTABLE} using the `CREATE TABLE` syntax with {HYPERCORE} for optimal performance:

```sql
CREATE TABLE conditions (
  time        TIMESTAMPTZ       NOT NULL,
  location    TEXT              NOT NULL,
  device      TEXT              NOT NULL,
  temperature DOUBLE PRECISION  NULL,
  humidity    DOUBLE PRECISION  NULL
) WITH (
  tsdb.hypertable,
  tsdb.segmentby = 'device',
  tsdb.orderby = 'time DESC'
);
```

### Drop old chunks

Remove {CHUNK}s older than 3 months to manage storage:

```sql
SELECT drop_chunks('conditions', INTERVAL '3 months');
```

### View chunk information

Get detailed information about {CHUNK}s for a {HYPERTABLE}:

```sql
SELECT show_chunks('conditions');
```

### Add a space dimension

Add a second partitioning dimension for multi-dimensional data:

```sql
SELECT add_dimension('conditions', 'location', number_partitions => 4);
```

## Available functions and commands

### [Table creation][create-table-section]
[SQL commands for creating {HYPERTABLE}s][create-table-section]:
- [`CREATE TABLE`][create_table]: create a {HYPERTABLE} using standard SQL syntax with {HYPERCORE}

### [Chunk management][chunk-management-section]
[Functions for managing {CHUNK}s][chunk-management-section]:
- [`show_chunks()`][show_chunks]: display {CHUNK}s associated with {HYPERTABLE}s
- [`drop_chunks()`][drop_chunks]: remove {CHUNK}s from {HYPERTABLE}s
- [`move_chunk()`][move_chunk]: move a {CHUNK} to a different tablespace
- [`reorder_chunk()`][reorder_chunk]: reorder a single {CHUNK} by an index
- [`merge_chunks()`][merge_chunks]: merge multiple {CHUNK}s into a single {CHUNK}
- [`split_chunk()`][split_chunk]: split a {CHUNK} into multiple {CHUNK}s
- [`attach_chunk()`][attach_chunk]: attach a table as a {CHUNK} to a {HYPERTABLE}
- [`detach_chunk()`][detach_chunk]: detach a {CHUNK} from a {HYPERTABLE}

### [Dimension management][dimension-section]
[Functions for managing {HYPERTABLE} dimensions][dimension-section]:
- [`add_dimension()`][add_dimension]: add a space-partitioning dimension to a {HYPERTABLE}
- [`set_chunk_time_interval()`][set_chunk_time_interval]: set the time interval for {CHUNK} creation
- [`set_integer_now_func()`][set_integer_now_func]: set function to compute current time for integer-based times

### [Size and statistics][size-section]
[Functions for measuring {HYPERTABLE} and {CHUNK} sizes][size-section]:
- [`hypertable_size()`][hypertable_size]: get the total disk space used by a {HYPERTABLE}
- [`hypertable_detailed_size()`][hypertable_detailed_size]: get detailed disk space usage for a {HYPERTABLE}
- [`hypertable_index_size()`][hypertable_index_size]: get the total size of indexes on a {HYPERTABLE}
- [`hypertable_approximate_size()`][hypertable_approximate_size]: get an approximate total size of a {HYPERTABLE}
-  [`hypertable_approximate_detailed_size()`][hypertable_approximate_detailed_size]: get approximate detailed size
  information
- [`chunks_detailed_size()`][chunks_detailed_size]: get detailed size information for {CHUNK}s

### [Tablespace management][tablespace-section]
[Functions for managing tablespaces with {HYPERTABLE}s][tablespace-section]:
- [`attach_tablespace()`][attach_tablespace]: attach a tablespace to a {HYPERTABLE}
- [`detach_tablespace()`][detach_tablespace]: detach a tablespace from a {HYPERTABLE}
- [`detach_tablespaces()`][detach_tablespaces]: detach all tablespaces from a {HYPERTABLE}
- [`show_tablespaces()`][show_tablespaces]: show tablespaces attached to a {HYPERTABLE}

### [Reordering and policies][reorder-section]
[Functions for managing {CHUNK} reordering][reorder-section]:
- [`add_reorder_policy()`][add_reorder_policy]: add a policy to automatically reorder {CHUNK}s
- [`remove_reorder_policy()`][remove_reorder_policy]: remove an automatic {CHUNK} reordering policy

### [Query optimization][optimization-section]
[Functions for optimizing queries on {HYPERTABLE}s][optimization-section]:
- [`enable_chunk_skipping()`][enable_chunk_skipping]: enable {CHUNK} skipping for a {HYPERTABLE}
- [`disable_chunk_skipping()`][disable_chunk_skipping]: disable {CHUNK} skipping for a {HYPERTABLE}

## Legacy functions

For backward compatibility, {TIMESCALE_DB} also provides [`create_hypertable()`][create_hypertable], which was the
original function for creating {HYPERTABLE}s. Use [`CREATE TABLE`][create_table] for new {HYPERTABLE}s.

[hypertable-docs]: /manage-data/timescaledb/data-management/hypertables/understand-hypertables

[create-table-section]: #table-creation
[create_table]: /api-reference/timescaledb/hypertables/create_table

[chunk-management-section]: #chunk-management
[show_chunks]: /api-reference/timescaledb/hypertables/show_chunks
[drop_chunks]: /api-reference/timescaledb/hypertables/drop_chunks
[move_chunk]: /api-reference/timescaledb/hypertables/move_chunk
[reorder_chunk]: /api-reference/timescaledb/hypertables/reorder_chunk
[merge_chunks]: /api-reference/timescaledb/hypertables/merge_chunks
[split_chunk]: /api-reference/timescaledb/hypertables/split_chunk
[attach_chunk]: /api-reference/timescaledb/hypertables/attach_chunk
[detach_chunk]: /api-reference/timescaledb/hypertables/detach_chunk

[dimension-section]: #dimension-management
[add_dimension]: /api-reference/timescaledb/hypertables/add_dimension
[set_chunk_time_interval]: /api-reference/timescaledb/hypertables/set_chunk_time_interval
[set_integer_now_func]: /api-reference/timescaledb/hypertables/set_integer_now_func

[size-section]: #size-and-statistics
[hypertable_size]: /api-reference/timescaledb/hypertables/hypertable_size
[hypertable_detailed_size]: /api-reference/timescaledb/hypertables/hypertable_detailed_size
[hypertable_index_size]: /api-reference/timescaledb/hypertables/hypertable_index_size
[hypertable_approximate_size]: /api-reference/timescaledb/hypertables/hypertable_approximate_size
[hypertable_approximate_detailed_size]: /api-reference/timescaledb/hypertables/hypertable_approximate_detailed_size
[chunks_detailed_size]: /api-reference/timescaledb/hypertables/chunks_detailed_size

[tablespace-section]: #tablespace-management
[attach_tablespace]: /api-reference/timescaledb/hypertables/attach_tablespace
[detach_tablespace]: /api-reference/timescaledb/hypertables/detach_tablespace
[detach_tablespaces]: /api-reference/timescaledb/hypertables/detach_tablespaces
[show_tablespaces]: /api-reference/timescaledb/hypertables/show_tablespaces

[reorder-section]: #reordering-and-policies
[add_reorder_policy]: /api-reference/timescaledb/hypertables/add_reorder_policy
[remove_reorder_policy]: /api-reference/timescaledb/hypertables/remove_reorder_policy

[optimization-section]: #query-optimization
[enable_chunk_skipping]: /api-reference/timescaledb/hypertables/enable_chunk_skipping
[disable_chunk_skipping]: /api-reference/timescaledb/hypertables/disable_chunk_skipping

[create_hypertable]: /api-reference/timescaledb/hypertables/create_hypertable
