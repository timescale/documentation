---
title: topn()
description: Get the top N most common values from a space-saving aggregate
topics: [hyperfunctions]
license: community
type: function
toolkit: true
hyperfunction:
  family: frequency analysis
  type: accessor
  aggregates:
    - freq_agg()
---

<Icon icon="circle-play" iconType="duotone" /> Since 1.16.0

Get the top N most common values from a space-saving aggregate. The space-saving aggregate can be created from either [`freq_agg`](#freq_agg) or [`mcv_agg`](#mcv_agg).

```sql
topn (
    agg SpaceSavingAggregate,
    n INTEGER
) RETURNS AnyElement
```

## Samples

Get the 20 most frequent `zip_codes` from an `employees` table:

```sql
SELECT topn(mcv_agg(20, zip_code)) FROM employees;
```## Arguments

| Name | Type | Default | Required | Description |
|------|------|---------|----------|-------------|
| `agg` | SpacingsavingAggregate | - | ✔ | A space-saving aggregate created using either [`freq_agg`](#freq_agg) or [`mcv_agg`](#mcv_agg) |
| `n` | INTEGER | - | ✔ | The number of values to return. Required only for frequency aggregates. For top N aggregates, defaults to target N of the aggregate itself, and requests for a higher N return an error. In some cases, the function might return fewer than N values. This might happen if a frequency aggregate doesn't contain N values above the minimum frequency, or if the data isn't skewed enough to support N values from a top N aggregate. |

## Returns

| Column | Type | Description |
|--------|------|-------------|
| `topn` | AnyElement | The N most-frequent values in the aggregate |

