---
title: last_val()
description: Get the last value from a TimeWeightSummary aggregate
topics: [hyperfunctions]
license: community
type: function
toolkit: true
products: [cloud, mst, self_hosted]
hyperfunction:
  family: time-weighted calculations
  type: accessor
  aggregates:
    - time_weight()
---

<Icon icon="circle-play" iconType="duotone" /> Since 1.11.0

Get the value of the last point in a TimeWeightSummary aggregate.

## Arguments

| Name | Type | Default | Required | Description |
|------|------|---------|----------|-------------|
| tws | TimeWeightSummary | - | âœ” | The input TimeWeightSummary from a time_weight() call |

## Returns

| Column | Type | Description |
|--------|------|-------------|
| last_val | DOUBLE PRECISION | The value of the last point in the TimeWeightSummary |

## Samples

Produce a linear TimeWeightSummary over the column `val` and get the last value:

```sql
WITH t as (
    SELECT
        time_bucket('1 day'::interval, ts) as dt,
        time_weight('Linear', ts, val) AS tw
    FROM table
    GROUP BY time_bucket('1 day'::interval, ts)
)
SELECT
    dt,
    last_val(tw)
FROM t;
```