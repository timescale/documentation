---
title: rate()
description: Calculate the rate of change from a counter aggregate
license: community
type: function
toolkit: true
hyperfunction:
  family: counters and gauges
  type: accessor
  aggregates:
  - counter_agg()
topics:
- hyperfunctions
---

<Icon icon="circle-play" iconType="duotone" /> Since 1.3.0

Calculate the rate of change of the counter. This is the simple rate, equal to the last value minus the first value,
divided by the time elapsed, after accounting for resets.

## Arguments

| Name | Type | Default | Required | Description |
| --- | --- | --- | --- | --- |
| `summary` | `CounterSummary` | - | âœ” | A counter aggregate created using [`counter_agg`](#counter_agg) |


## Returns

`DOUBLE PRECISION`: The rate of change of the counter

## Samples

Get the rate of change per `id` over the entire recorded interval.

```sql
SELECT
    id,
    rate(summary)
FROM (
    SELECT
        id,
        counter_agg(ts, val) AS summary
    FROM foo
    GROUP BY id
) t
```
