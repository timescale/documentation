---
title: num_live_ranges()
description: Count the number of live ranges
license: community
type: function
toolkit: true
topics: [hyperfunctions]
hyperfunction:
  family: state tracking
  type: accessor
  aggregates:
    - heartbeat_agg()
---

<Icon icon="circle-play" iconType="duotone" /> Since 1.16.0

Return the number of live periods from a heartbeat aggregate.

```sql
num_live_ranges(
    agg HEARTBEATAGG
) RETURNS BIGINT
```

## Arguments

| Name | Type | Default | Required | Description |
|------|------|---------|----------|-------------|
| agg | HeartbeatAgg | - | âœ” | A heartbeat aggregate to get the number of ranges from |

## Returns

| Column | Type | Description |
|--------|------|-------------|
| num_live_ranges | bigint | The number of live ranges in the aggregate |

## Samples

Given a table called `liveness` containing weekly heartbeat aggregates in column `health` with timestamp column `date`, use this query to see how many intervals the system was up in a given week:

```sql
SELECT num_live_ranges(health)
FROM liveness
WHERE date = '01-9-2022 UTC'
```

Returns:

```
 num_live_ranges
---------
 5
```