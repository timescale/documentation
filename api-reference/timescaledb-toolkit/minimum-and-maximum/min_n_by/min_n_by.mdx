---
title: min_n_by()
description: Track the smallest values and associated data in a set of values
topics: [hyperfunctions]
tags: [hyperfunctions, toolkit, minimum]
license: community
type: function
toolkit: true
hyperfunction:
  family: minimum and maximum
  type: aggregate
  aggregates:
    - min_n_by()
products: [cloud, mst, self_hosted]
---

<Icon icon="circle-play" iconType="duotone" /> Since 1.16.0

Construct an aggregate that keeps track of the smallest values passed through it, as well as some associated data which
is passed alongside the value.


## Arguments

The syntax is:

```sql
min_n_by(
    value BIGINT | DOUBLE PRECISION | TIMESTAMPTZ,
    data ANYELEMENT,
    capacity BIGINT
) MinNBy
```
| Name | Type | Default | Required | Description |
|--|--|--|--|--|
| `value` | BIGINT \| DOUBLE PRECISION \| TIMESTAMPTZ | - | ✔ | The values passed into the aggregate |
| `data` | ANYELEMENT | - | ✔ | The data associated with a particular value |
| `capacity` | BIGINT | - | ✔ | The number of values to retain. |

## Returns

| Column | Type | Description |
|--------|------|-------------|
| min_n_by | MinNBy | The compiled aggregate. Note that the exact type is `MinByInts`, `MinByFloats`, or `MinByTimes` depending on the input type |
