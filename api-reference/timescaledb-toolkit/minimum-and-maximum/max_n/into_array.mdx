---
title: into_array()
description: Returns an array of the highest values from a MaxN aggregate
topics: [hyperfunctions]
tags: [hyperfunctions, toolkit, maximum]
license: community
type: function
toolkit: true
hyperfunction:
  family: minimum and maximum
  type: accessor
  aggregates:
    - max_n()
products: [cloud, mst, self_hosted]
---

<Icon icon="circle-play" iconType="duotone" /> Since 1.16.0

Return the N largest values seen by the aggregate. The values are formatted
as an array in decreasing order.

## Samples

Find the top 5 values from `i * 13 % 10007` for i = 1 to 10000.

```sql
SELECT into_array(
    max_n(sub.val, 5))
FROM (
  SELECT (i * 13) % 10007 AS val
  FROM generate_series(1,10000) as i
) sub;
```

Output:

```sql
into_array
---------------------------------
{10006,10005,10004,10003,10002}
```

## Arguments

| Name | Type | Default | Required | Description |
|--|--|--|--|--|
| `agg` | MaxN | - | âœ” | The aggregate to return the results from. Note that the exact type here varies based on the type of data stored in the aggregate. |

## Returns

| Column | Type | Description |
|--------|------|-------------|
| into_array | BIGINT[] | DOUBLE PRECISION[] | TIMESTAMPTZ[] | The lowest values seen while creating this aggregate. |
